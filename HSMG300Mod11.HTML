<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Service Delivery Sorting Activity</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 40px auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 42px;
            margin: 0 0 10px 0;
            font-weight: 700;
        }

        .header p {
            font-size: 18px;
            margin: 0;
            opacity: 0.95;
        }

        .instructions {
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .instructions p {
            margin: 0;
            font-size: 16px;
            color: #4a5568;
            line-height: 1.6;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .drop-zone {
            background: white;
            border-radius: 12px;
            padding: 25px;
            min-height: 400px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            background: #f0f4ff;
            border: 3px dashed #667eea;
            transform: scale(1.02);
        }

        .drop-zone h2 {
            margin: 0 0 20px 0;
            font-size: 24px;
            color: #2d3748;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #e2e8f0;
        }

        .drop-zone.traditional h2 {
            color: #e53e3e;
        }

        .drop-zone.coproduction h2 {
            color: #38a169;
        }

        .scenarios-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .scenarios-container h3 {
            margin: 0 0 20px 0;
            font-size: 20px;
            color: #2d3748;
            text-align: center;
        }

        .scenarios-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .scenario-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px 20px;
            border-radius: 8px;
            cursor: grab;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            user-select: none;
        }

        .scenario-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .scenario-card:active {
            cursor: grabbing;
        }

        .scenario-card.dragging {
            opacity: 0.5;
        }

        .scenario-card.placed {
            background: #e2e8f0;
            color: #2d3748;
            cursor: default;
        }

        .scenario-card.placed:hover {
            transform: none;
        }

        .scenario-card.correct {
            background: #48bb78;
            color: white;
        }

        .scenario-card.incorrect {
            background: #f56565;
            color: white;
        }

        .dropped-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
            min-height: 50px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 14px 32px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: #48bb78;
            color: white;
        }

        .btn-primary:hover {
            background: #38a169;
        }

        .btn-primary:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #667eea;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a67d8;
        }

        .feedback {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback h3 {
            margin: 0 0 15px 0;
            font-size: 28px;
            color: #2d3748;
        }

        .feedback p {
            margin: 0;
            font-size: 18px;
            color: #4a5568;
        }

        .score {
            font-size: 48px;
            font-weight: 700;
            color: #667eea;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 32px;
            }

            .controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <div class="header">
    <h1 id="main-title">Service Delivery: Traditional vs Co-Production</h1>
    <p id="subtitle">Sort the scenarios into the correct service delivery model</p>
   </div>
   <div class="instructions">
    <p id="instructions-text">üìã Drag each scenario card to the appropriate category. Traditional Service means the business provides everything while customers passively receive. Co-Production means customers actively participate in creating value together with the service provider.</p>
   </div>
   <div class="scenarios-container">
    <h3>üéØ Scenarios to Sort</h3>
    <div class="scenarios-list" id="scenarios-list"></div>
   </div>
   <div class="game-area">
    <div class="drop-zone traditional" id="traditional-zone" data-category="traditional">
     <h2>üè® Traditional Service</h2>
     <div class="dropped-items" id="traditional-items"></div>
    </div>
    <div class="drop-zone coproduction" id="coproduction-zone" data-category="coproduction">
     <h2>ü§ù Co-Production</h2>
     <div class="dropped-items" id="coproduction-items"></div>
    </div>
   </div>
   <div class="controls"><button class="btn btn-primary" id="check-btn" disabled>Check Answers</button> <button class="btn btn-secondary" id="reset-btn">Reset Activity</button>
   </div>
   <div class="feedback" id="feedback">
    <h3>üéâ Activity Complete!</h3>
    <div class="score" id="score"></div>
    <p id="completion-message">Great work! You've successfully identified the differences between traditional service delivery and co-production models.</p>
   </div>
  </div>
  <script>
        const defaultConfig = {
            main_title: "Service Delivery: Traditional vs Co-Production",
            subtitle: "Sort the scenarios into the correct service delivery model",
            instructions_text: "üìã Drag each scenario card to the appropriate category. Traditional Service means the business provides everything while customers passively receive. Co-Production means customers actively participate in creating value together with the service provider.",
            completion_message: "Great work! You've successfully identified the differences between traditional service delivery and co-production models.",
            primary_color: "#667eea",
            secondary_color: "#764ba2",
            background_color: "#ffffff",
            text_color: "#2d3748",
            accent_color: "#48bb78",
            font_family: "Inter",
            font_size: 16
        };

        const scenarios = [
            { id: 1, text: "A hotel concierge books all restaurant reservations and arranges transportation for guests", category: "traditional" },
            { id: 2, text: "Guests use a mobile app to customize their room temperature, lighting, and entertainment before arrival", category: "coproduction" },
            { id: 3, text: "A waiter takes orders, serves food, and clears tables without customer input on preparation", category: "traditional" },
            { id: 4, text: "Customers build their own salad at a buffet station with fresh ingredients", category: "coproduction" },
            { id: 5, text: "A spa provides a set menu of treatments with no customization options", category: "traditional" },
            { id: 6, text: "Hotel guests participate in cooking classes and prepare their own meals with chef guidance", category: "coproduction" },
            { id: 7, text: "Front desk staff handles all check-in procedures while guests wait in line", category: "traditional" },
            { id: 8, text: "Guests use self-service kiosks to check in, select rooms, and print key cards", category: "coproduction" },
            { id: 9, text: "A bartender mixes signature cocktails from a fixed menu", category: "traditional" },
            { id: 10, text: "Customers design their own cocktails by selecting base spirits, mixers, and garnishes", category: "coproduction" },
            { id: 11, text: "Housekeeping cleans rooms on a fixed schedule without guest preferences", category: "traditional" },
            { id: 12, text: "Guests use an app to request specific cleaning times and customize service preferences", category: "coproduction" }
        ];

        let draggedElement = null;
        let placedScenarios = new Map();

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function initializeScenarios() {
            const scenariosList = document.getElementById('scenarios-list');
            scenariosList.innerHTML = '';
            placedScenarios.clear();

            const shuffledScenarios = shuffleArray(scenarios);

            shuffledScenarios.forEach(scenario => {
                const card = document.createElement('div');
                card.className = 'scenario-card';
                card.draggable = true;
                card.textContent = scenario.text;
                card.dataset.id = scenario.id;
                card.dataset.category = scenario.category;

                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragend', handleDragEnd);

                scenariosList.appendChild(card);
            });

            document.getElementById('check-btn').disabled = true;
            document.getElementById('feedback').classList.remove('show');
        }

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            return false;
        }

        function handleDragEnter(e) {
            if (e.currentTarget.classList.contains('drop-zone')) {
                e.currentTarget.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            if (e.currentTarget.classList.contains('drop-zone')) {
                e.currentTarget.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }

            e.currentTarget.classList.remove('drag-over');

            if (draggedElement) {
                const dropZone = e.currentTarget;
                const droppedItems = dropZone.querySelector('.dropped-items');
                
                const scenarioId = draggedElement.dataset.id;
                const placedCategory = dropZone.dataset.category;
                
                placedScenarios.set(scenarioId, placedCategory);
                
                draggedElement.classList.add('placed');
                draggedElement.draggable = false;
                droppedItems.appendChild(draggedElement);

                if (placedScenarios.size === scenarios.length) {
                    document.getElementById('check-btn').disabled = false;
                }
            }

            return false;
        }

        function checkAnswers() {
            let correct = 0;
            const cards = document.querySelectorAll('.scenario-card.placed');

            cards.forEach(card => {
                const scenarioId = card.dataset.id;
                const correctCategory = card.dataset.category;
                const placedCategory = placedScenarios.get(scenarioId);

                if (correctCategory === placedCategory) {
                    card.classList.add('correct');
                    card.classList.remove('incorrect');
                    correct++;
                } else {
                    card.classList.add('incorrect');
                    card.classList.remove('correct');
                }
            });

            const score = Math.round((correct / scenarios.length) * 100);
            document.getElementById('score').textContent = `${correct}/${scenarios.length} (${score}%)`;
            document.getElementById('feedback').classList.add('show');
            document.getElementById('check-btn').disabled = true;
        }

        function resetActivity() {
            initializeScenarios();
        }

        const dropZones = document.querySelectorAll('.drop-zone');
        dropZones.forEach(zone => {
            zone.addEventListener('dragover', handleDragOver);
            zone.addEventListener('dragenter', handleDragEnter);
            zone.addEventListener('dragleave', handleDragLeave);
            zone.addEventListener('drop', handleDrop);
        });

        document.getElementById('check-btn').addEventListener('click', checkAnswers);
        document.getElementById('reset-btn').addEventListener('click', resetActivity);

        async function onConfigChange(config) {
            const customFont = config.font_family || defaultConfig.font_family;
            const baseFontStack = '-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif';
            const baseSize = config.font_size || defaultConfig.font_size;

            document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;

            document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
            document.getElementById('main-title').style.fontSize = `${baseSize * 2.625}px`;

            document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
            document.getElementById('subtitle').style.fontSize = `${baseSize * 1.125}px`;

            document.getElementById('instructions-text').textContent = config.instructions_text || defaultConfig.instructions_text;
            document.getElementById('instructions-text').style.fontSize = `${baseSize}px`;

            document.getElementById('completion-message').textContent = config.completion_message || defaultConfig.completion_message;
            document.getElementById('completion-message').style.fontSize = `${baseSize * 1.125}px`;

            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const accentColor = config.accent_color || defaultConfig.accent_color;

            document.body.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;

            const whiteBackgrounds = document.querySelectorAll('.instructions, .drop-zone, .scenarios-container, .feedback');
            whiteBackgrounds.forEach(el => el.style.background = backgroundColor);

            const textElements = document.querySelectorAll('.drop-zone h2, .scenarios-container h3, .feedback h3, .instructions p, .feedback p');
            textElements.forEach(el => el.style.color = textColor);

            const scenarioCards = document.querySelectorAll('.scenario-card:not(.placed)');
            scenarioCards.forEach(card => {
                card.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
            });

            const primaryBtn = document.querySelector('.btn-primary');
            primaryBtn.style.background = accentColor;

            const secondaryBtn = document.querySelector('.btn-secondary');
            secondaryBtn.style.background = primaryColor;

            document.getElementById('score').style.color = primaryColor;
        }

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities: (config) => ({
                    recolorables: [
                        {
                            get: () => config.primary_color || defaultConfig.primary_color,
                            set: (value) => {
                                config.primary_color = value;
                                window.elementSdk.setConfig({ primary_color: value });
                            }
                        },
                        {
                            get: () => config.secondary_color || defaultConfig.secondary_color,
                            set: (value) => {
                                config.secondary_color = value;
                                window.elementSdk.setConfig({ secondary_color: value });
                            }
                        },
                        {
                            get: () => config.background_color || defaultConfig.background_color,
                            set: (value) => {
                                config.background_color = value;
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        },
                        {
                            get: () => config.text_color || defaultConfig.text_color,
                            set: (value) => {
                                config.text_color = value;
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        },
                        {
                            get: () => config.accent_color || defaultConfig.accent_color,
                            set: (value) => {
                                config.accent_color = value;
                                window.elementSdk.setConfig({ accent_color: value });
                            }
                        }
                    ],
                    borderables: [],
                    fontEditable: {
                        get: () => config.font_family || defaultConfig.font_family,
                        set: (value) => {
                            config.font_family = value;
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    },
                    fontSizeable: {
                        get: () => config.font_size || defaultConfig.font_size,
                        set: (value) => {
                            config.font_size = value;
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }),
                mapToEditPanelValues: (config) => new Map([
                    ["main_title", config.main_title || defaultConfig.main_title],
                    ["subtitle", config.subtitle || defaultConfig.subtitle],
                    ["instructions_text", config.instructions_text || defaultConfig.instructions_text],
                    ["completion_message", config.completion_message || defaultConfig.completion_message]
                ])
            });
        }

        initializeScenarios();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99d63dbd00e6e264',t:'MTc2Mjk1MjcyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>